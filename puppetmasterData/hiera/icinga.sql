commands: SELECT c.name,c.command_line,'monitorizacion::icinga::commands' AS puppet_type FROM commands AS c, environments AS e WHERE c.environment_id=e.id AND e.name = '%{::env}';
hostgroups: SELECT p.name||'-'||h.name AS name, 'monitorizacion::icinga::hostgroup' AS puppet_type FROM host_groups AS h, projects AS p, environments AS e WHERE h.project_id = p.id AND h.environment_id=e.id AND e.name = '%{::env}' AND h.name <> 'common';
contacts: SELECT c.name, c.encrypted_password, c.email, c.alias AS contact_alias, c.service_notification_options, c.host_notification_options, array_to_string(array(SELECT projects.name FROM projects INNER JOIN contacts_projects ON projects.id = contacts_projects.project_id WHERE contacts_projects.contact_id = c.id),',') AS contactgroups, 'monitorizacion::icinga::contact' AS puppet_type FROM contacts AS c, environments AS e WHERE c.environment_id=e.id AND e.name = '%{::env}';
